# Easy Token Mint - 手動テスト手順書

## 概要

本ドキュメントは、Easy Token Mintアプリケーションの網羅的な手動テスト手順を定義します。
リリース前のQAテスト、および機能追加後の回帰テストに使用してください。

---

## テスト環境準備

### 必要なもの

- [ ] テスト用PC（Windows/macOS/Linux）
- [ ] インターネット接続
- [ ] テスト用ウォレットの秘密鍵（Amoy Testnet用）
- [ ] テスト用MATIC（Amoy Testnet Faucetから取得）
- [ ] テスト用CSVファイル（一括発行テスト用）

### Amoy Testnet Faucet

- https://faucet.polygon.technology/
- ネットワーク: Polygon Amoy
- 必要量: 約0.5 MATIC以上

### テスト用CSVファイルの準備

`test-batch.csv`:
```csv
address,amount
0x742d35Cc6634C0532925a3b844Bc9e7595f1E5b7,100
0x8ba1f109551bD432803012645Ac136ddd64DBA72,200
0xdD2FD4581271e230360230F9337D5c0430Bf44C0,150
```

`test-batch-invalid.csv`（無効なアドレス含む）:
```csv
address,amount
0x742d35Cc6634C0532925a3b844Bc9e7595f1E5b7,100
invalid-address,200
0xdD2FD4581271e230360230F9337D5c0430Bf44C0,150
```

---

## テストケース一覧

### カテゴリ

| カテゴリ | テスト数 |
|----------|----------|
| 0. インストーラー・更新 | 12 |
| 1. 初期設定 | 8 |
| 2. PIN認証 | 10 |
| 3. ダッシュボード | 8 |
| 4. トークン管理 | 12 |
| 5. 単発ミント | 10 |
| 6. CSV一括発行 | 12 |
| 7. 権限管理 | 8 |
| 8. 履歴・ログ | 6 |
| 9. 設定画面 | 14 |
| 10. エラーハンドリング | 10 |
| 11. セキュリティ | 8 |
| 12. 多言語対応 | 6 |
| **合計** | **114** |

---

## 0. インストーラー・更新テスト

### ビルド情報

| プラットフォーム | ファイル名 | 出力場所 |
|------------------|------------|----------|
| Windows | `Easy Token Mint Setup X.X.X.exe` | `out/` |
| macOS | `Easy Token Mint-X.X.X.dmg` | `out/` |
| Linux | `Easy Token Mint-X.X.X.AppImage` | `out/` |

### TC-0.1: インストーラービルド（Windows）

**前提条件:** 開発環境でソースコードがある

**手順:**
1. ターミナルで `npm run dist:win` を実行する
2. ビルド完了を待つ

**期待結果:**
- [ ] ビルドがエラーなく完了する
- [ ] `out/Easy Token Mint Setup X.X.X.exe` が生成される
- [ ] `out/latest.yml` が生成される（自動更新用）
- [ ] `out/win-unpacked/` フォルダが生成される（ポータブル版）

---

### TC-0.2: 新規インストール（Windows）

**前提条件:** アプリがインストールされていない状態

**手順:**
1. `Easy Token Mint Setup X.X.X.exe` をダブルクリックする
2. インストールウィザードに従う
3. インストール先を選択する（カスタムインストール）
4. インストールを完了する

**期待結果:**
- [ ] インストールウィザードが起動する
- [ ] インストール先を変更できる
- [ ] インストールが正常に完了する
- [ ] スタートメニューにショートカットが作成される
- [ ] デスクトップにショートカットが作成される（オプション選択時）

---

### TC-0.3: インストール後の初回起動

**前提条件:** インストール完了直後

**手順:**
1. スタートメニューから「Easy Token Mint」を起動する

**期待結果:**
- [ ] アプリが正常に起動する
- [ ] 初期設定画面が表示される
- [ ] エラーダイアログが表示されない

---

### TC-0.4: ポータブル版の起動

**前提条件:** `out/win-unpacked/` フォルダがある

**手順:**
1. `win-unpacked` フォルダ内の `Easy Token Mint.exe` をダブルクリックする

**期待結果:**
- [ ] インストールなしでアプリが起動する
- [ ] 正常に動作する

---

### TC-0.5: アプリのアンインストール

**前提条件:** アプリがインストールされている

**手順:**
1. Windowsの「設定」→「アプリ」を開く
2. 「Easy Token Mint」を検索する
3. 「アンインストール」をクリックする

**期待結果:**
- [ ] アンインストーラーが起動する
- [ ] アプリが正常にアンインストールされる
- [ ] プログラムファイルが削除される

---

### TC-0.6: アンインストール後のデータ確認

**前提条件:** アンインストール完了後

**手順:**
1. `%APPDATA%\easy-token-mint\` フォルダを確認する

**期待結果:**
- [ ] ユーザーデータフォルダは残っている（意図的な動作）
- [ ] 手動で削除可能

**備考:** ユーザーデータ（秘密鍵、設定、ログ）はアンインストールでは削除されません。完全削除する場合は手動でフォルダを削除する必要があります。

---

### TC-0.7: 上書きインストール（アップグレード）

**前提条件:** 旧バージョンがインストールされている

**手順:**
1. 新しいバージョンのインストーラーを実行する
2. インストールを完了する

**期待結果:**
- [ ] 既存バージョンが上書きされる
- [ ] ユーザーデータが保持される
- [ ] 設定が引き継がれる

---

### TC-0.8: 自動更新チェック

**前提条件:** 本番ビルドのアプリが起動している

**手順:**
1. アプリを起動する
2. 5秒待機する

**期待結果:**
- [ ] バックグラウンドで更新チェックが実行される
- [ ] 更新がなければ何も表示されない
- [ ] ログに更新チェック結果が記録される

---

### TC-0.9: 更新利用可能時のダイアログ

**前提条件:** 新しいバージョンがGitHub Releasesに公開されている

**手順:**
1. 旧バージョンのアプリを起動する
2. 更新チェックが完了するまで待つ

**期待結果:**
- [ ] 更新利用可能ダイアログが表示される
- [ ] 新バージョン番号が表示される
- [ ] 「ダウンロード」「後で」ボタンが表示される

---

### TC-0.10: 更新のダウンロードとインストール

**前提条件:** 更新利用可能ダイアログが表示されている

**手順:**
1. 「ダウンロード」をクリックする
2. ダウンロード完了を待つ
3. 「再起動」をクリックする

**期待結果:**
- [ ] ダウンロード進捗が表示される
- [ ] ダウンロード完了後、再起動ダイアログが表示される
- [ ] 再起動後、新バージョンで起動する

---

### TC-0.11: 更新を「後で」選択

**前提条件:** 更新利用可能ダイアログが表示されている

**手順:**
1. 「後で」をクリックする

**期待結果:**
- [ ] ダイアログが閉じる
- [ ] アプリは現在のバージョンで続行する
- [ ] 次回起動時に再度更新チェックが行われる

---

### TC-0.12: オフライン時の更新チェック

**前提条件:** インターネット接続がない状態

**手順:**
1. アプリを起動する

**期待結果:**
- [ ] アプリは正常に起動する
- [ ] 更新チェックはサイレントに失敗する（エラーダイアログなし）
- [ ] ログにエラーが記録される

---

## 1. 初期設定テスト

### TC-1.1: 初回起動時に初期設定画面が表示される

**前提条件:** アプリを初めてインストールした状態

**手順:**
1. アプリを起動する

**期待結果:**
- [ ] 初期設定画面が表示される
- [ ] ステップ1「秘密鍵インポート」が表示される

---

### TC-1.2: 秘密鍵インポート - 有効な秘密鍵

**前提条件:** 初期設定画面のステップ1

**手順:**
1. 有効な64文字の16進数秘密鍵を入力する
2. 「次へ」をクリックする

**期待結果:**
- [ ] アドレスプレビューが表示される
- [ ] ステップ2（PIN設定）に進む

---

### TC-1.3: 秘密鍵インポート - 無効な秘密鍵

**前提条件:** 初期設定画面のステップ1

**手順:**
1. 無効な文字列（例: "invalid-key"）を入力する
2. 「次へ」をクリックする

**期待結果:**
- [ ] エラーメッセージが表示される
- [ ] 次のステップに進まない

---

### TC-1.4: 秘密鍵インポート - 0xプレフィックス付き

**前提条件:** 初期設定画面のステップ1

**手順:**
1. "0x"で始まる66文字の秘密鍵を入力する
2. 「次へ」をクリックする

**期待結果:**
- [ ] 0xが自動的に除去される
- [ ] 正常にインポートされる

---

### TC-1.5: PIN設定 - 有効なPIN

**前提条件:** 初期設定画面のステップ2

**手順:**
1. 8文字以上、英数字混在のPINを入力する
2. 確認PINを同じ値で入力する
3. 「次へ」をクリックする

**期待結果:**
- [ ] ステップ3（ネットワーク選択）に進む

---

### TC-1.6: PIN設定 - 短すぎるPIN

**前提条件:** 初期設定画面のステップ2

**手順:**
1. 7文字以下のPINを入力する
2. 「次へ」をクリックする

**期待結果:**
- [ ] エラーメッセージ「8文字以上」が表示される

---

### TC-1.7: PIN設定 - 英字または数字のみ

**前提条件:** 初期設定画面のステップ2

**手順:**
1. 数字のみのPIN（例: "12345678"）を入力する
2. 「次へ」をクリックする

**期待結果:**
- [ ] エラーメッセージ「英字と数字を含める」が表示される

---

### TC-1.8: ネットワーク選択

**前提条件:** 初期設定画面のステップ3

**手順:**
1. Testnet（Amoy）を選択する
2. 「完了」をクリックする

**期待結果:**
- [ ] 初期設定が完了する
- [ ] PIN入力画面が表示される

---

## 2. PIN認証テスト

### TC-2.1: 正しいPINでログイン

**前提条件:** 初期設定完了後

**手順:**
1. アプリを起動する
2. 正しいPINを入力する
3. 「ログイン」をクリックする

**期待結果:**
- [ ] ダッシュボードが表示される

---

### TC-2.2: 誤ったPINでログイン

**前提条件:** PIN入力画面

**手順:**
1. 誤ったPINを入力する
2. 「ログイン」をクリックする

**期待結果:**
- [ ] エラーメッセージが表示される
- [ ] 残り試行回数が表示される

---

### TC-2.3: 3回連続で誤ったPIN入力

**前提条件:** PIN入力画面

**手順:**
1. 誤ったPINを3回連続で入力する

**期待結果:**
- [ ] 5分間のロックメッセージが表示される
- [ ] カウントダウンタイマーが表示される
- [ ] 入力が無効化される

---

### TC-2.4: ロック解除後のログイン

**前提条件:** PIN入力がロックされた状態

**手順:**
1. 5分間待機する
2. 正しいPINを入力する

**期待結果:**
- [ ] ロックが解除される
- [ ] 正常にログインできる

---

### TC-2.5: 連続ロック時の待機時間増加

**前提条件:** 一度ロック解除後

**手順:**
1. 再度3回連続で誤ったPINを入力する

**期待結果:**
- [ ] 待機時間が10分に増加する

---

### TC-2.6: PINマスク表示

**前提条件:** PIN入力画面

**手順:**
1. PINを入力する

**期待結果:**
- [ ] 入力内容がマスク（●●●）で表示される

---

### TC-2.7: PIN入力時のEnterキー

**前提条件:** PIN入力画面

**手順:**
1. PINを入力する
2. Enterキーを押す

**期待結果:**
- [ ] ログインボタンと同じ動作をする

---

### TC-2.8: 空のPINでログイン試行

**前提条件:** PIN入力画面

**手順:**
1. 何も入力せずに「ログイン」をクリックする

**期待結果:**
- [ ] ログインボタンが無効化されている、またはエラーメッセージが表示される

---

### TC-2.9: PIN入力画面で言語切替

**前提条件:** PIN入力画面

**手順:**
1. 言語切替ボタン（あれば）をクリックする

**期待結果:**
- [ ] 言語が切り替わる（日本語⇔英語）

---

### TC-2.10: アプリ再起動後のPIN要求

**前提条件:** ダッシュボード表示中

**手順:**
1. アプリを終了する
2. アプリを再起動する

**期待結果:**
- [ ] PIN入力画面が表示される（自動ログインしない）

---

## 3. ダッシュボードテスト

### TC-3.1: ウォレットアドレス表示

**前提条件:** ダッシュボードを表示

**手順:**
1. ウォレット情報エリアを確認する

**期待結果:**
- [ ] 短縮されたウォレットアドレスが表示される
- [ ] コピーボタンが表示される

---

### TC-3.2: ウォレットアドレスのコピー

**前提条件:** ダッシュボードを表示

**手順:**
1. アドレス横の「コピー」ボタンをクリックする
2. テキストエディタに貼り付ける

**期待結果:**
- [ ] 完全なウォレットアドレスがコピーされる
- [ ] 「コピー済み」表示が一時的に表示される

---

### TC-3.3: MATIC残高表示

**前提条件:** ダッシュボードを表示

**手順:**
1. 残高エリアを確認する

**期待結果:**
- [ ] MATIC残高が数値で表示される

---

### TC-3.4: 残高警告アラート（黄色）

**前提条件:** MATIC残高が警告閾値未満（デフォルト1.0 MATIC未満）

**手順:**
1. ダッシュボードを確認する

**期待結果:**
- [ ] 黄色の警告アラートが表示される
- [ ] 残高が黄色で表示される

---

### TC-3.5: 残高危険アラート（赤色）

**前提条件:** MATIC残高が危険閾値未満（デフォルト0.1 MATIC未満）

**手順:**
1. ダッシュボードを確認する

**期待結果:**
- [ ] 赤色の危険アラートが表示される
- [ ] 残高が赤色で表示される

---

### TC-3.6: ネットワーク表示

**前提条件:** ダッシュボードを表示

**手順:**
1. ヘッダー部分を確認する

**期待結果:**
- [ ] 現在のネットワーク（Mainnet/Testnet）がバッジで表示される

---

### TC-3.7: トークン一覧表示

**前提条件:** トークンが登録されている状態

**手順:**
1. トークン一覧エリアを確認する

**期待結果:**
- [ ] 登録済みトークンがカードで表示される
- [ ] 各トークンにシンボル、名前、権限状態が表示される

---

### TC-3.8: 更新ボタンで残高再取得

**前提条件:** ダッシュボードを表示

**手順:**
1. 「更新」ボタンをクリックする

**期待結果:**
- [ ] 残高が再取得される
- [ ] トークン情報が更新される

---

## 4. トークン管理テスト

### TC-4.1: 新規トークンデプロイダイアログを開く

**前提条件:** ダッシュボードを表示

**手順:**
1. 「新規デプロイ」ボタンをクリックする

**期待結果:**
- [ ] デプロイダイアログが開く
- [ ] 入力フォームが表示される

---

### TC-4.2: トークンデプロイ - 必須項目入力

**前提条件:** デプロイダイアログを開いた状態

**手順:**
1. トークン名を入力（例: "Test Token"）
2. シンボルを入力（例: "TST"）
3. 小数点桁数をデフォルト（18）のまま
4. 「次へ」をクリックする

**期待結果:**
- [ ] ガス見積画面に進む
- [ ] 推定ガス代が表示される

---

### TC-4.3: トークンデプロイ - 発行上限設定

**前提条件:** デプロイダイアログを開いた状態

**手順:**
1. 必須項目を入力
2. 「発行上限あり」を選択
3. 上限値を入力（例: 1000000）
4. 「次へ」をクリックする

**期待結果:**
- [ ] 発行上限が設定される

---

### TC-4.4: トークンデプロイ - 初期発行設定

**前提条件:** デプロイダイアログを開いた状態

**手順:**
1. 必須項目を入力
2. 「初期発行あり」をチェック
3. 発行量と発行先を入力
4. 「次へ」をクリックする

**期待結果:**
- [ ] 初期発行が設定に含まれる

---

### TC-4.5: トークンデプロイ - 実行

**前提条件:** ガス見積画面

**手順:**
1. 「デプロイ」をクリックする
2. 処理完了を待つ

**期待結果:**
- [ ] 処理中のスピナーが表示される
- [ ] 完了後、成功メッセージが表示される
- [ ] TX Hashが表示される
- [ ] トークン一覧に新トークンが追加される

---

### TC-4.6: 既存トークン追加ダイアログを開く

**前提条件:** ダッシュボードを表示

**手順:**
1. 「トークン追加」ボタンをクリックする

**期待結果:**
- [ ] トークン追加ダイアログが開く

---

### TC-4.7: 既存トークン追加 - 有効なアドレス

**前提条件:** トークン追加ダイアログを開いた状態

**手順:**
1. 有効なERC20トークンアドレスを入力する
2. 「追加」をクリックする

**期待結果:**
- [ ] トークン情報が取得される
- [ ] トークン名、シンボルが表示される
- [ ] MINTER_ROLE有無が表示される
- [ ] トークン一覧に追加される

---

### TC-4.8: 既存トークン追加 - 無効なアドレス

**前提条件:** トークン追加ダイアログを開いた状態

**手順:**
1. 無効なアドレスを入力する
2. 「追加」をクリックする

**期待結果:**
- [ ] エラーメッセージが表示される

---

### TC-4.9: 既存トークン追加 - 非ERC20コントラクト

**前提条件:** トークン追加ダイアログを開いた状態

**手順:**
1. ERC20でないコントラクトアドレスを入力する
2. 「追加」をクリックする

**期待結果:**
- [ ] 「ERC20に準拠していません」エラーが表示される

---

### TC-4.10: トークンカード - MINTER_ROLE表示

**前提条件:** MINTER_ROLEを持つトークンが登録されている

**手順:**
1. トークンカードを確認する

**期待結果:**
- [ ] 「ミント権限あり」のバッジが表示される
- [ ] ミントボタンが有効化されている

---

### TC-4.11: トークンカード - MINTER_ROLEなし表示

**前提条件:** MINTER_ROLEを持たないトークンが登録されている

**手順:**
1. トークンカードを確認する

**期待結果:**
- [ ] 「権限なし」のバッジが表示される
- [ ] ミントボタンが無効化されている

---

### TC-4.12: 重複トークン追加の防止

**前提条件:** トークンが既に登録されている

**手順:**
1. 同じトークンアドレスを再度追加しようとする

**期待結果:**
- [ ] エラーメッセージ「既に登録済み」が表示される

---

## 5. 単発ミントテスト

### TC-5.1: ミントダイアログを開く

**前提条件:** MINTER_ROLEを持つトークンがある

**手順:**
1. トークンカードの「単発ミント」ボタンをクリックする

**期待結果:**
- [ ] ミントダイアログが開く
- [ ] トークン名が表示される

---

### TC-5.2: ミント - 有効な入力

**前提条件:** ミントダイアログを開いた状態

**手順:**
1. 有効な発行先アドレスを入力する
2. 発行量を入力する（例: 100）
3. 「確認」をクリックする

**期待結果:**
- [ ] 確認画面に進む
- [ ] ガス見積が表示される

---

### TC-5.3: ミント - 無効なアドレス

**前提条件:** ミントダイアログを開いた状態

**手順:**
1. 無効なアドレスを入力する
2. 「確認」をクリックする

**期待結果:**
- [ ] エラーメッセージ「無効なアドレス」が表示される

---

### TC-5.4: ミント - 発行量0

**前提条件:** ミントダイアログを開いた状態

**手順:**
1. 有効なアドレスを入力する
2. 発行量に0を入力する
3. 「確認」をクリックする

**期待結果:**
- [ ] エラーメッセージが表示される

---

### TC-5.5: ミント - 負の発行量

**前提条件:** ミントダイアログを開いた状態

**手順:**
1. 発行量に負の数を入力する

**期待結果:**
- [ ] 入力が無効化される、またはエラーメッセージが表示される

---

### TC-5.6: ミント - 確認画面の内容確認

**前提条件:** ミント確認画面

**手順:**
1. 表示内容を確認する

**期待結果:**
- [ ] トークンシンボルが表示される
- [ ] 発行先アドレスが表示される
- [ ] 発行量が表示される
- [ ] ガス見積が表示される

---

### TC-5.7: ミント - 実行

**前提条件:** ミント確認画面

**手順:**
1. 「実行」をクリックする
2. 処理完了を待つ

**期待結果:**
- [ ] 処理中のスピナーが表示される
- [ ] 成功メッセージが表示される
- [ ] TX Hashが表示される

---

### TC-5.8: ミント - Polygonscanリンク

**前提条件:** ミント成功後

**手順:**
1. 「Polygonscanで確認」ボタンをクリックする

**期待結果:**
- [ ] 外部ブラウザでPolygonscanが開く
- [ ] 正しいTXページが表示される

---

### TC-5.9: ミント - 確認画面から戻る

**前提条件:** ミント確認画面

**手順:**
1. 「戻る」ボタンをクリックする

**期待結果:**
- [ ] 入力画面に戻る
- [ ] 入力内容が保持されている

---

### TC-5.10: ミント - MINTER_ROLEなしでミント試行

**前提条件:** MINTER_ROLEを持たないトークン

**手順:**
1. ミントボタンの状態を確認する

**期待結果:**
- [ ] ミントボタンが無効化されている

---

## 6. CSV一括発行テスト

### TC-6.1: 一括発行ダイアログを開く

**前提条件:** MINTER_ROLEを持つトークンがある

**手順:**
1. トークンカードの「一括発行」ボタンをクリックする

**期待結果:**
- [ ] 一括発行ダイアログが開く

---

### TC-6.2: CSVファイルの選択

**前提条件:** 一括発行ダイアログを開いた状態

**手順:**
1. 「ファイル選択」をクリックする
2. 有効なCSVファイルを選択する

**期待結果:**
- [ ] ファイル名が表示される
- [ ] プレビューが表示される

---

### TC-6.3: CSVプレビュー - 有効なデータ

**前提条件:** 有効なCSVをアップロード

**手順:**
1. プレビュー内容を確認する

**期待結果:**
- [ ] 各行のアドレスと発行量が表示される
- [ ] 有効な行は通常表示される
- [ ] 合計発行量が表示される

---

### TC-6.4: CSVプレビュー - 無効なアドレス含む

**前提条件:** 無効なアドレスを含むCSVをアップロード

**手順:**
1. プレビュー内容を確認する

**期待結果:**
- [ ] 無効な行がエラー表示される
- [ ] エラー理由が表示される
- [ ] 有効件数/無効件数が表示される

---

### TC-6.5: CSV一括発行 - 無効行スキップオプション

**前提条件:** 無効なアドレスを含むCSVをアップロード

**手順:**
1. 「無効なアドレスをスキップ」オプションをオンにする
2. 「次へ」をクリックする

**期待結果:**
- [ ] 有効な行のみで処理を続行できる

---

### TC-6.6: CSV一括発行 - ガス見積

**前提条件:** CSVをアップロードして確認画面へ

**手順:**
1. ガス見積を確認する

**期待結果:**
- [ ] 合計発行量が表示される
- [ ] 推定ガス代が表示される
- [ ] バッチ数が表示される（100件以上の場合）

---

### TC-6.7: CSV一括発行 - 実行

**前提条件:** 一括発行確認画面

**手順:**
1. 「実行」をクリックする
2. 処理完了を待つ

**期待結果:**
- [ ] 進捗バーが表示される
- [ ] バッチごとの進捗が表示される
- [ ] 成功件数/失敗件数が表示される

---

### TC-6.8: CSV一括発行 - 結果表示

**前提条件:** 一括発行完了後

**手順:**
1. 結果画面を確認する

**期待結果:**
- [ ] 成功件数が表示される
- [ ] TX Hashが表示される
- [ ] 失敗があれば失敗件数が表示される

---

### TC-6.9: CSV一括発行 - 失敗分CSVエクスポート

**前提条件:** 一部失敗した一括発行の結果画面

**手順:**
1. 「失敗分をエクスポート」ボタンをクリックする

**期待結果:**
- [ ] 失敗した行のみを含むCSVがダウンロードされる

---

### TC-6.10: CSV一括発行 - 100件超のバッチ分割

**前提条件:** 100件以上のCSVを用意

**手順:**
1. 100件以上のCSVをアップロードする
2. 実行する

**期待結果:**
- [ ] 100件ごとにバッチ分割される
- [ ] バッチごとに進捗が表示される

---

### TC-6.11: CSVフォーマットエラー

**前提条件:** 不正なフォーマットのCSV

**手順:**
1. ヘッダーがないCSVをアップロードする

**期待結果:**
- [ ] フォーマットエラーメッセージが表示される

---

### TC-6.12: 空のCSVファイル

**前提条件:** 空のCSVファイル

**手順:**
1. 空のCSVをアップロードする

**期待結果:**
- [ ] エラーメッセージが表示される

---

## 7. 権限管理テスト

### TC-7.1: 権限管理ダイアログを開く

**前提条件:** トークンが登録されている

**手順:**
1. トークンカードの「権限管理」ボタンをクリックする

**期待結果:**
- [ ] 権限管理ダイアログが開く
- [ ] 現在のミンター一覧が表示される

---

### TC-7.2: 現在のミンター一覧表示

**前提条件:** 権限管理ダイアログを開いた状態

**手順:**
1. ミンター一覧を確認する

**期待結果:**
- [ ] MINTER_ROLEを持つアドレスが一覧表示される

---

### TC-7.3: ミンター追加 - 有効なアドレス

**前提条件:** 権限管理ダイアログを開いた状態

**手順:**
1. 新しいアドレスを入力する
2. 「追加」をクリックする
3. 確認ダイアログで「実行」をクリックする

**期待結果:**
- [ ] 確認ダイアログが表示される
- [ ] 処理中表示が出る
- [ ] 成功後、一覧に追加される

---

### TC-7.4: ミンター追加 - 無効なアドレス

**前提条件:** 権限管理ダイアログを開いた状態

**手順:**
1. 無効なアドレスを入力する
2. 「追加」をクリックする

**期待結果:**
- [ ] エラーメッセージが表示される

---

### TC-7.5: ミンター追加 - 既存のミンター

**前提条件:** 権限管理ダイアログを開いた状態

**手順:**
1. 既にミンターとして登録されているアドレスを入力する
2. 「追加」をクリックする

**期待結果:**
- [ ] エラーメッセージが表示される

---

### TC-7.6: ミンター削除

**前提条件:** ミンターが複数登録されている

**手順:**
1. 削除したいミンターの「削除」ボタンをクリックする
2. 確認ダイアログで「実行」をクリックする

**期待結果:**
- [ ] 確認ダイアログが表示される
- [ ] 処理後、一覧から削除される

---

### TC-7.7: ミンター削除 - 確認ダイアログでキャンセル

**前提条件:** ミンター削除確認ダイアログ

**手順:**
1. 「キャンセル」をクリックする

**期待結果:**
- [ ] ダイアログが閉じる
- [ ] 削除されない

---

### TC-7.8: 自分のアドレスの権限削除警告

**前提条件:** 自分のアドレスがミンターとして登録されている

**手順:**
1. 自分のアドレスの「削除」ボタンをクリックする

**期待結果:**
- [ ] 警告メッセージが表示される（自分の権限を削除しようとしている）

---

## 8. 履歴・ログテスト

### TC-8.1: 履歴画面を開く

**前提条件:** ダッシュボードを表示

**手順:**
1. 「履歴」ボタンをクリックする

**期待結果:**
- [ ] 履歴画面が表示される
- [ ] 操作ログが一覧表示される

---

### TC-8.2: 操作種別フィルター

**前提条件:** 履歴画面を表示

**手順:**
1. 操作種別フィルターで「mint」を選択する

**期待結果:**
- [ ] ミント操作のみが表示される

---

### TC-8.3: トークンフィルター

**前提条件:** 履歴画面を表示、複数トークンの操作ログがある

**手順:**
1. トークンフィルターで特定のトークンを選択する

**期待結果:**
- [ ] 選択したトークンの操作のみが表示される

---

### TC-8.4: 期間フィルター

**前提条件:** 履歴画面を表示

**手順:**
1. 開始日と終了日を設定する
2. フィルターを適用する

**期待結果:**
- [ ] 指定期間内の操作のみが表示される

---

### TC-8.5: CSVエクスポート

**前提条件:** 履歴画面を表示

**手順:**
1. 「CSVエクスポート」ボタンをクリックする

**期待結果:**
- [ ] CSVファイルがダウンロードされる
- [ ] フィルター条件が反映されている

---

### TC-8.6: 履歴からPolygonscanリンク

**前提条件:** 履歴画面を表示、TX Hashがある操作

**手順:**
1. TX Hash部分をクリックする

**期待結果:**
- [ ] Polygonscanが外部ブラウザで開く

---

## 9. 設定画面テスト

### TC-9.1: 設定画面を開く

**前提条件:** ダッシュボードを表示

**手順:**
1. 「設定」ボタンをクリックする

**期待結果:**
- [ ] 設定画面が表示される

---

### TC-9.2: 言語切替 - 日本語から英語

**前提条件:** 設定画面を表示（日本語表示中）

**手順:**
1. 言語設定で「English」を選択する

**期待結果:**
- [ ] UI全体が英語に切り替わる
- [ ] 設定が保存される

---

### TC-9.3: 言語切替 - 英語から日本語

**前提条件:** 設定画面を表示（英語表示中）

**手順:**
1. 言語設定で「日本語」を選択する

**期待結果:**
- [ ] UI全体が日本語に切り替わる

---

### TC-9.4: ネットワーク切替 - TestnetからMainnet

**前提条件:** Testnetで動作中

**手順:**
1. ネットワーク設定で「Mainnet」を選択する
2. 確認ダイアログで「切替」をクリックする

**期待結果:**
- [ ] 確認ダイアログが表示される
- [ ] ネットワークが切り替わる
- [ ] トークン一覧が更新される
- [ ] 残高が再取得される

---

### TC-9.5: ネットワーク切替 - 確認ダイアログでキャンセル

**前提条件:** ネットワーク切替確認ダイアログ

**手順:**
1. 「キャンセル」をクリックする

**期待結果:**
- [ ] ネットワークが変更されない

---

### TC-9.6: 残高アラート閾値変更 - 警告閾値

**前提条件:** 設定画面を表示

**手順:**
1. 警告閾値を変更する（例: 2.0 MATIC）
2. 「保存」をクリックする

**期待結果:**
- [ ] 設定が保存される
- [ ] ダッシュボードで新しい閾値が適用される

---

### TC-9.7: 残高アラート閾値変更 - 危険閾値

**前提条件:** 設定画面を表示

**手順:**
1. 危険閾値を変更する（例: 0.5 MATIC）
2. 「保存」をクリックする

**期待結果:**
- [ ] 設定が保存される

---

### TC-9.8: 閾値バリデーション - 警告 < 危険

**前提条件:** 設定画面を表示

**手順:**
1. 警告閾値を危険閾値より低く設定する
2. 「保存」をクリックする

**期待結果:**
- [ ] エラーメッセージが表示される

---

### TC-9.9: PIN変更 - 正常

**前提条件:** 設定画面を表示

**手順:**
1. 「PIN変更」をクリックする
2. 現在のPINを入力する
3. 新しいPINを入力する
4. 確認PINを入力する
5. 「変更」をクリックする

**期待結果:**
- [ ] 成功メッセージが表示される
- [ ] 次回ログイン時に新PINが必要

---

### TC-9.10: PIN変更 - 現在のPINが誤り

**前提条件:** PIN変更ダイアログ

**手順:**
1. 誤った現在のPINを入力する
2. 新しいPINを入力する
3. 「変更」をクリックする

**期待結果:**
- [ ] エラーメッセージが表示される

---

### TC-9.11: PIN変更 - 新PINが条件を満たさない

**前提条件:** PIN変更ダイアログ

**手順:**
1. 正しい現在のPINを入力する
2. 条件を満たさない新PINを入力する
3. 「変更」をクリックする

**期待結果:**
- [ ] 適切なエラーメッセージが表示される

---

### TC-9.12: 秘密鍵再インポート

**前提条件:** 設定画面を表示

**手順:**
1. 「秘密鍵の再インポート」をクリックする
2. 警告を確認して「続行」をクリックする
3. 新しい秘密鍵を入力する
4. 新しいPINを入力する
5. 「インポート」をクリックする

**期待結果:**
- [ ] 警告メッセージが表示される
- [ ] 成功後、アプリが再読み込みされる
- [ ] 新しいウォレットアドレスが表示される

---

### TC-9.13: ログフォルダを開く

**前提条件:** 設定画面を表示

**手順:**
1. 「ログフォルダを開く」をクリックする

**期待結果:**
- [ ] ファイルエクスプローラーでログフォルダが開く

---

### TC-9.14: 設定画面から戻る

**前提条件:** 設定画面を表示

**手順:**
1. 「戻る」ボタンをクリックする

**期待結果:**
- [ ] ダッシュボードに戻る

---

## 10. エラーハンドリングテスト

### TC-10.1: ネットワーク接続エラー

**前提条件:** インターネット接続を切断

**手順:**
1. トランザクションを実行しようとする

**期待結果:**
- [ ] ネットワークエラーメッセージが表示される
- [ ] リトライオプションが提示される

---

### TC-10.2: RPC接続エラー

**前提条件:** RPCエンドポイントに接続できない状態

**手順:**
1. 残高取得を試みる

**期待結果:**
- [ ] フォールバックRPCに自動切替される
- [ ] または適切なエラーメッセージが表示される

---

### TC-10.3: MATIC残高不足

**前提条件:** MATIC残高が0に近い状態

**手順:**
1. トランザクションを実行しようとする

**期待結果:**
- [ ] 「残高不足」エラーが表示される
- [ ] トランザクションが実行されない

---

### TC-10.4: MINTER_ROLE権限エラー

**前提条件:** MINTER_ROLEを持たないトークン

**手順:**
1. 何らかの方法でミントを試みる（API直接呼び出しなど）

**期待結果:**
- [ ] 権限エラーメッセージが表示される

---

### TC-10.5: トランザクション失敗

**前提条件:** トランザクションが失敗する条件（例：発行上限超過）

**手順:**
1. 発行上限を超えるミントを実行する

**期待結果:**
- [ ] 失敗メッセージが表示される
- [ ] エラー理由が表示される

---

### TC-10.6: トランザクションタイムアウト

**前提条件:** ネットワークが非常に遅い状態

**手順:**
1. トランザクションを実行する
2. 5分以上待機する

**期待結果:**
- [ ] タイムアウトメッセージが表示される
- [ ] 「待機を続ける」オプションが提示される

---

### TC-10.7: 入力バリデーションエラー表示

**前提条件:** 入力フォームがある画面

**手順:**
1. 無効な値を入力する
2. 送信を試みる

**期待結果:**
- [ ] 入力欄に対応したエラーメッセージが表示される
- [ ] エラー箇所がハイライトされる

---

### TC-10.8: データベースエラー

**前提条件:** データベースファイルが破損

**手順:**
1. アプリを起動する

**期待結果:**
- [ ] エラーメッセージが表示される
- [ ] バックアップからの復元オプションが提示される

---

### TC-10.9: 未確認TX復旧

**前提条件:** トランザクション中にアプリがクラッシュ

**手順:**
1. アプリを再起動する

**期待結果:**
- [ ] 未確認TXの確認が行われる
- [ ] 結果が通知される

---

### TC-10.10: エラーメッセージの多言語対応

**前提条件:** 英語UIに設定

**手順:**
1. エラーを発生させる

**期待結果:**
- [ ] エラーメッセージが英語で表示される

---

## 11. セキュリティテスト

### TC-11.1: クリップボード自動クリア

**前提条件:** ダッシュボードを表示

**手順:**
1. アドレスをコピーする
2. 30秒待機する
3. テキストエディタに貼り付ける

**期待結果:**
- [ ] クリップボードが空になっている

---

### TC-11.2: PINのマスク表示

**前提条件:** PIN入力画面

**手順:**
1. PINを入力する
2. 画面を確認する

**期待結果:**
- [ ] 入力値が●●●でマスクされている

---

### TC-11.3: 秘密鍵のマスク表示

**前提条件:** 秘密鍵インポート画面

**手順:**
1. 秘密鍵を入力する
2. 画面を確認する

**期待結果:**
- [ ] 入力値がマスクされている

---

### TC-11.4: ログファイルに秘密鍵が記録されていない

**前提条件:** 各種操作を実行後

**手順:**
1. ログフォルダを開く
2. app.logを検索する

**期待結果:**
- [ ] 秘密鍵が記録されていない
- [ ] PINが記録されていない

---

### TC-11.5: 外部URLの安全な開き方

**前提条件:** Polygonscanリンクがある画面

**手順:**
1. リンクをクリックする

**期待結果:**
- [ ] 外部ブラウザで開く
- [ ] アプリ内でナビゲーションしない

---

### TC-11.6: XSS対策 - ユーザー入力

**前提条件:** 入力フォームがある画面

**手順:**
1. `<script>alert('xss')</script>`を入力する

**期待結果:**
- [ ] スクリプトが実行されない
- [ ] エスケープされて表示される

---

### TC-11.7: CSP設定の確認

**前提条件:** 開発者ツールを開く

**手順:**
1. Console/Networkタブを確認する

**期待結果:**
- [ ] CSPヘッダーが設定されている
- [ ] 外部スクリプトがブロックされる

---

### TC-11.8: wallet.encの暗号化確認

**前提条件:** セットアップ完了後

**手順:**
1. データディレクトリのwallet.encを開く

**期待結果:**
- [ ] 暗号化されたバイナリデータである
- [ ] 秘密鍵がプレーンテキストで読めない

---

## 12. 多言語対応テスト

### TC-12.1: 全画面の日本語表示

**前提条件:** 日本語設定

**手順:**
1. 全ての画面を確認する

**期待結果:**
- [ ] PIN入力画面が日本語
- [ ] ダッシュボードが日本語
- [ ] 各ダイアログが日本語
- [ ] 設定画面が日本語
- [ ] 履歴画面が日本語

---

### TC-12.2: 全画面の英語表示

**前提条件:** 英語設定

**手順:**
1. 全ての画面を確認する

**期待結果:**
- [ ] PIN入力画面が英語
- [ ] ダッシュボードが英語
- [ ] 各ダイアログが英語
- [ ] 設定画面が英語
- [ ] 履歴画面が英語

---

### TC-12.3: エラーメッセージの日本語

**前提条件:** 日本語設定

**手順:**
1. 各種エラーを発生させる

**期待結果:**
- [ ] エラーメッセージが日本語で表示される

---

### TC-12.4: エラーメッセージの英語

**前提条件:** 英語設定

**手順:**
1. 各種エラーを発生させる

**期待結果:**
- [ ] エラーメッセージが英語で表示される

---

### TC-12.5: 言語設定の永続化

**前提条件:** 英語に設定した状態

**手順:**
1. アプリを終了する
2. アプリを再起動する

**期待結果:**
- [ ] 英語設定が維持されている

---

### TC-12.6: 翻訳の欠落確認

**前提条件:** 英語設定

**手順:**
1. 全ての画面を確認する

**期待結果:**
- [ ] 日本語テキストが混在していない
- [ ] 翻訳キーがそのまま表示されていない

---

## テスト結果サマリー

| カテゴリ | 合格 | 不合格 | 未実施 | 備考 |
|----------|------|--------|--------|------|
| 0. インストーラー・更新 | /12 | | | |
| 1. 初期設定 | /8 | | | |
| 2. PIN認証 | /10 | | | |
| 3. ダッシュボード | /8 | | | |
| 4. トークン管理 | /12 | | | |
| 5. 単発ミント | /10 | | | |
| 6. CSV一括発行 | /12 | | | |
| 7. 権限管理 | /8 | | | |
| 8. 履歴・ログ | /6 | | | |
| 9. 設定画面 | /14 | | | |
| 10. エラーハンドリング | /10 | | | |
| 11. セキュリティ | /8 | | | |
| 12. 多言語対応 | /6 | | | |
| **合計** | **/114** | | | |

---

## 備考欄

### 発見した不具合

| No | カテゴリ | テストケース | 内容 | 重大度 | ステータス |
|----|----------|--------------|------|--------|------------|
| 1 | | | | | |
| 2 | | | | | |

### テスト環境情報

- テスト日:
- テスター:
- OS:
- アプリバージョン:
- ネットワーク: Mainnet / Testnet

---

**ドキュメントバージョン:** 1.0
**最終更新日:** 2026年1月
