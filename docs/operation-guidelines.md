# 運用ガイドライン

## 1. 日常運用

### 1.1 起動時の確認事項

アプリ起動後、以下を確認してください：

1. **ネットワーク表示**
   - 正しいネットワーク（Mainnet/Testnet）が選択されているか
   - テスト時は必ずTestnetを使用

2. **MATIC残高**
   - ガス代に十分な残高があるか
   - 警告（黄色）: < 1.0 MATIC
   - 危険（赤色）: < 0.1 MATIC

3. **トークン一覧**
   - 管理対象のトークンが表示されているか
   - MINTER_ROLEの状態を確認

### 1.2 発行前のチェックリスト

トークン発行を行う前に確認：

- [ ] 発行先アドレスが正しい
- [ ] 発行量が正しい
- [ ] 正しいトークンを選択している
- [ ] ガス代が妥当な範囲
- [ ] （大量発行時）複数人での確認

### 1.3 定期的な確認

**毎日**
- 操作ログの確認
- 異常なトランザクションがないか

**毎週**
- MATIC残高の確認と補充
- 権限設定の確認

**毎月**
- 操作ログのエクスポート・保管
- セキュリティアップデートの確認

## 2. バックアップと復元

### 2.1 自動バックアップ

Easy Token Mintは以下を自動バックアップします：

- **SQLiteデータベース**: 起動時に自動バックアップ（直近3世代保持）
- **保存場所**: `[データディレクトリ]/backup/`

### 2.2 手動バックアップの推奨

以下のファイルを定期的に外部保存してください：

```
[データディレクトリ]
├── config.json      # 設定ファイル
├── wallet.enc       # 暗号化された秘密鍵
└── data.db          # データベース
```

**データディレクトリの場所:**
- Windows: `%APPDATA%\easy-token-mint\`
- macOS: `~/Library/Application Support/easy-token-mint/`
- Linux: `~/.config/easy-token-mint/`

### 2.3 復元手順

1. **アプリをアンインストール**（任意）

2. **バックアップファイルを配置**
   - データディレクトリにバックアップファイルをコピー

3. **アプリを起動**
   - PINを入力してログイン
   - データが復元されていることを確認

### 2.4 バックアップからの復元（データベースのみ）

自動バックアップからの復元：

1. アプリを終了
2. `backup/data.db.bak.1`を`data.db`にリネームしてコピー
3. アプリを起動

## 3. アンインストール

### 3.1 完全削除手順

アプリをアンインストールする際、以下のデータを削除してください：

**Windows**
```
1. 設定 → アプリ → Easy Token Mint → アンインストール
2. %APPDATA%\easy-token-mint\ フォルダを削除
```

**macOS**
```
1. アプリケーションフォルダからEasy Token Mintを削除
2. ~/Library/Application Support/easy-token-mint/ を削除
```

**Linux**
```
1. パッケージマネージャーでアンインストール
2. ~/.config/easy-token-mint/ を削除
```

### 3.2 注意事項

- 削除前に必要なデータをバックアップ
- 秘密鍵は別途安全に保管されていることを確認
- 削除後は復元できません

## 4. 複数PC間でのトークン共有

### 4.1 基本的な考え方

- トークンのコントラクトはブロックチェーン上にあるため、どのPCからでもアクセス可能
- 必要なのは、MINTER_ROLEを持つウォレットの秘密鍵

### 4.2 新しいPCでの設定

1. **Easy Token Mintをインストール**

2. **秘密鍵をインポート**
   - 既存のウォレットの秘密鍵を使用

3. **トークンを追加**
   - 「既存トークン追加」でコントラクトアドレスを入力
   - 権限が自動的に検出される

### 4.3 複数人での運用

異なるユーザーが同じトークンを管理する場合：

1. 各ユーザーが個別のウォレットを作成
2. Admin権限を持つユーザーが、各ウォレットにMINTER_ROLEを付与
3. 各PCでトークンを追加

## 5. ネットワーク切替

### 5.1 MainnetとTestnetの使い分け

**Testnet（Amoy）を使用する場合:**
- 新機能のテスト
- 発行フローの確認
- 新しいトークンのデプロイテスト

**Mainnetを使用する場合:**
- 本番運用
- 実際のトークン発行

### 5.2 切替時の注意事項

- 切替時は確認ダイアログが表示されます
- トークン一覧は選択したネットワークのものが表示されます
- 操作ログもネットワークごとにフィルタリングされます
- MATIC残高は各ネットワークで別々です

## 6. トラブルシューティング

### 6.1 よくある問題

**Q: トランザクションが送信できない**
- MATIC残高を確認
- ネットワーク接続を確認
- RPCエンドポイントの状態を確認

**Q: トークンが表示されない**
- 正しいネットワークが選択されているか確認
- トークンアドレスが正しいか確認
- 再度トークンを追加

**Q: PINを忘れた**
- 秘密鍵のバックアップから復元
- データディレクトリを削除して再設定

### 6.2 ログの確認

問題発生時はログを確認：

1. 設定画面 → 「ログフォルダを開く」
2. `app.log`を確認
3. エラーメッセージを特定

---

**最終更新日:** 2026年1月
**対象バージョン:** 1.0.0
